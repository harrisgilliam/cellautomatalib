<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>Class Poco::Net::WebSocket</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="author" content="Applied Informatics Software Engineering GmbH and Contributors"/>
<meta name="publisher" content="Applied Informatics Software Engineering GmbH and Contributors"/>
<meta name="copyright" content="Copyright (c) 2012, Applied Informatics Software Engineering GmbH and Contributors"/>
<meta name="language" content="en"/>
<meta name="date" content="2012-01-15"/>
<meta name="generator" content="PocoDoc"/>
<link rel="stylesheet" href="css/styles.css" type="text/css"/>
</head>
<body bgcolor="#ffffff" leftmargin="0" topmargin="0">
<div class="header">
<h1 class="namespace"><a href="Poco.Net.html" class="namespace">Poco::Net</a></h1>
<h1 class="symbol">class WebSocket</h1>
</div>
<div class="body">
<p>
<b>Library:</b> Net<br />
<b>Package:</b> WebSocket<br />
<b>Header:</b> Poco/Net/WebSocket.h</p>
<h2>Description</h2>
<div class="description">
<p>This class implements a <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> according to the <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> protocol specification in <a href="http://www.ietf.org/rfc/rfc6455.txt" target="_blank">RFC 6455</a>. </p>
<p>Both client-side and server-side WebSockets are supported. </p>
<p>Server-side WebSockets are usually created from within a <a href="Poco.Net.HTTPRequestHandler.html" title="class Poco::Net::HTTPRequestHandler">HTTPRequestHandler</a>. </p>
<p>Client-side WebSockets are created using a <a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a>. </p>
<p>Note that special frames like PING must be handled at application level. In the case of a PING, a PONG message must be returned. </p>
</div>
<h2>Inheritance</h2>
<p><b>Direct Base Classes: </b><a href="Poco.Net.StreamSocket.html" title="class Poco::Net::StreamSocket">StreamSocket</a></p>
<p><b>All Base Classes: </b><a href="Poco.Net.Socket.html" title="class Poco::Net::Socket">Socket</a>, <a href="Poco.Net.StreamSocket.html" title="class Poco::Net::StreamSocket">StreamSocket</a></p>
<h2>Member Summary</h2>
<p><b>Member Functions: </b><a href="Poco.Net.WebSocket.html#16329" title="Poco::Net::WebSocket::accept()">accept</a>, <a href="Poco.Net.WebSocket.html#16337" title="Poco::Net::WebSocket::completeHandshake()">completeHandshake</a>, <a href="Poco.Net.WebSocket.html#16341" title="Poco::Net::WebSocket::computeAccept()">computeAccept</a>, <a href="Poco.Net.WebSocket.html#16332" title="Poco::Net::WebSocket::connect()">connect</a>, <a href="Poco.Net.WebSocket.html#16343" title="Poco::Net::WebSocket::createKey()">createKey</a>, <a href="Poco.Net.WebSocket.html#16327" title="Poco::Net::WebSocket::mode()">mode</a>, <a href="Poco.Net.WebSocket.html#16313" title="Poco::Net::WebSocket::operator =()">operator&nbsp;=</a>, <a href="Poco.Net.WebSocket.html#16323" title="Poco::Net::WebSocket::receiveFrame()">receiveFrame</a>, <a href="Poco.Net.WebSocket.html#16319" title="Poco::Net::WebSocket::sendFrame()">sendFrame</a>, <a href="Poco.Net.WebSocket.html#16315" title="Poco::Net::WebSocket::shutdown()">shutdown</a></p>
<p><b>Inherited Functions: </b><a href="Poco.Net.Socket.html#15656" title="Poco::Net::Socket::address()">address</a>, <a href="Poco.Net.Socket.html#15579" title="Poco::Net::Socket::available()">available</a>, <a href="Poco.Net.Socket.html#15570" title="Poco::Net::Socket::close()">close</a>, <a href="Poco.Net.StreamSocket.html#16087" title="Poco::Net::StreamSocket::connect()">connect</a>, <a href="Poco.Net.StreamSocket.html#16092" title="Poco::Net::StreamSocket::connectNB()">connectNB</a>, <a href="Poco.Net.Socket.html#15655" title="Poco::Net::Socket::getBlocking()">getBlocking</a>, <a href="Poco.Net.Socket.html#15643" title="Poco::Net::Socket::getKeepAlive()">getKeepAlive</a>, <a href="Poco.Net.Socket.html#15635" title="Poco::Net::Socket::getLinger()">getLinger</a>, <a href="Poco.Net.Socket.html#15640" title="Poco::Net::Socket::getNoDelay()">getNoDelay</a>, <a href="Poco.Net.Socket.html#15652" title="Poco::Net::Socket::getOOBInline()">getOOBInline</a>, <a href="Poco.Net.Socket.html#15612" title="Poco::Net::Socket::getOption()">getOption</a>, <a href="Poco.Net.Socket.html#15585" title="Poco::Net::Socket::getReceiveBufferSize()">getReceiveBufferSize</a>, <a href="Poco.Net.Socket.html#15591" title="Poco::Net::Socket::getReceiveTimeout()">getReceiveTimeout</a>, <a href="Poco.Net.Socket.html#15646" title="Poco::Net::Socket::getReuseAddress()">getReuseAddress</a>, <a href="Poco.Net.Socket.html#15649" title="Poco::Net::Socket::getReusePort()">getReusePort</a>, <a href="Poco.Net.Socket.html#15582" title="Poco::Net::Socket::getSendBufferSize()">getSendBufferSize</a>, <a href="Poco.Net.Socket.html#15588" title="Poco::Net::Socket::getSendTimeout()">getSendTimeout</a>, <a href="Poco.Net.Socket.html#15658" title="Poco::Net::Socket::impl()">impl</a>, <a href="Poco.Net.Socket.html#15560" title="Poco::Net::Socket::operator !=()">operator&nbsp;!=</a>, <a href="Poco.Net.Socket.html#15562" title="Poco::Net::Socket::operator <()">operator&nbsp;&lt;</a>, <a href="Poco.Net.Socket.html#15564" title="Poco::Net::Socket::operator <=()">operator&nbsp;&lt;=</a>, <a href="Poco.Net.Socket.html#15555" title="Poco::Net::Socket::operator =()">operator&nbsp;=</a>, <a href="Poco.Net.Socket.html#15558" title="Poco::Net::Socket::operator ==()">operator&nbsp;==</a>, <a href="Poco.Net.Socket.html#15566" title="Poco::Net::Socket::operator >()">operator&nbsp;&gt;</a>, <a href="Poco.Net.Socket.html#15568" title="Poco::Net::Socket::operator >=()">operator&nbsp;&gt;=</a>, <a href="Poco.Net.Socket.html#15657" title="Poco::Net::Socket::peerAddress()">peerAddress</a>, <a href="Poco.Net.Socket.html#15576" title="Poco::Net::Socket::poll()">poll</a>, <a href="Poco.Net.StreamSocket.html#16101" title="Poco::Net::StreamSocket::receiveBytes()">receiveBytes</a>, <a href="Poco.Net.Socket.html#15659" title="Poco::Net::Socket::secure()">secure</a>, <a href="Poco.Net.Socket.html#15571" title="Poco::Net::Socket::select()">select</a>, <a href="Poco.Net.StreamSocket.html#16097" title="Poco::Net::StreamSocket::sendBytes()">sendBytes</a>, <a href="Poco.Net.StreamSocket.html#16105" title="Poco::Net::StreamSocket::sendUrgent()">sendUrgent</a>, <a href="Poco.Net.Socket.html#15653" title="Poco::Net::Socket::setBlocking()">setBlocking</a>, <a href="Poco.Net.Socket.html#15641" title="Poco::Net::Socket::setKeepAlive()">setKeepAlive</a>, <a href="Poco.Net.Socket.html#15632" title="Poco::Net::Socket::setLinger()">setLinger</a>, <a href="Poco.Net.Socket.html#15638" title="Poco::Net::Socket::setNoDelay()">setNoDelay</a>, <a href="Poco.Net.Socket.html#15650" title="Poco::Net::Socket::setOOBInline()">setOOBInline</a>, <a href="Poco.Net.Socket.html#15592" title="Poco::Net::Socket::setOption()">setOption</a>, <a href="Poco.Net.Socket.html#15583" title="Poco::Net::Socket::setReceiveBufferSize()">setReceiveBufferSize</a>, <a href="Poco.Net.Socket.html#15589" title="Poco::Net::Socket::setReceiveTimeout()">setReceiveTimeout</a>, <a href="Poco.Net.Socket.html#15644" title="Poco::Net::Socket::setReuseAddress()">setReuseAddress</a>, <a href="Poco.Net.Socket.html#15647" title="Poco::Net::Socket::setReusePort()">setReusePort</a>, <a href="Poco.Net.Socket.html#15580" title="Poco::Net::Socket::setSendBufferSize()">setSendBufferSize</a>, <a href="Poco.Net.Socket.html#15586" title="Poco::Net::Socket::setSendTimeout()">setSendTimeout</a>, <a href="Poco.Net.StreamSocket.html#16096" title="Poco::Net::StreamSocket::shutdown()">shutdown</a>, <a href="Poco.Net.StreamSocket.html#16094" title="Poco::Net::StreamSocket::shutdownReceive()">shutdownReceive</a>, <a href="Poco.Net.StreamSocket.html#16095" title="Poco::Net::StreamSocket::shutdownSend()">shutdownSend</a>, <a href="Poco.Net.Socket.html#15664" title="Poco::Net::Socket::sockfd()">sockfd</a>, <a href="Poco.Net.Socket.html#15660" title="Poco::Net::Socket::supportsIPv4()">supportsIPv4</a>, <a href="Poco.Net.Socket.html#15661" title="Poco::Net::Socket::supportsIPv6()">supportsIPv6</a></p>
<h2>Enumerations</h2>
<h3><a name="16291">ErrorCodes</a></h3>
<div class="description">
<p>These error codes can be obtained from a <a href="Poco.Net.WebSocketException.html" title="class Poco::Net::WebSocketException">WebSocketException</a> to determine the exact cause of the error. </p>
</div>
<p class="decl"><a name="16292">WS_ERR_NO_HANDSHAKE</a> = 1</p>
<div class="description">
<p>No Connection: Upgrade or Upgrade: websocket header in handshake request. </p>
</div>
<p class="decl"><a name="16293">WS_ERR_HANDSHAKE_NO_VERSION</a> = 2</p>
<div class="description">
<p>No Sec-<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>-Version header in handshake request. </p>
</div>
<p class="decl"><a name="16294">WS_ERR_HANDSHAKE_UNSUPPORTED_VERSION</a> = 3</p>
<div class="description">
<p>Unsupported <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> version requested by client. </p>
</div>
<p class="decl"><a name="16295">WS_ERR_HANDSHAKE_NO_KEY</a> = 4</p>
<div class="description">
<p>No Sec-<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>-Key header in handshake request. </p>
</div>
<p class="decl"><a name="16296">WS_ERR_HANDSHAKE_ACCEPT</a> = 5</p>
<div class="description">
<p>No Sec-<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>-Accept header or wrong value. </p>
</div>
<p class="decl"><a name="16297">WS_ERR_UNAUTHORIZED</a> = 6</p>
<div class="description">
<p>The server rejected the username or password for authentication. </p>
</div>
<p class="decl"><a name="16298">WS_ERR_PAYLOAD_TOO_BIG</a> = 10</p>
<div class="description">
<p>Payload too big for supplied buffer. </p>
</div>
<p class="decl"><a name="16299">WS_ERR_INCOMPLETE_FRAME</a> = 11</p>
<div class="description">
<p>Incomplete frame received. </p>
</div>
<h3><a name="16261">FrameFlags</a></h3>
<div class="description">
<p>Frame header flags. </p>
</div>
<p class="decl"><a name="16262">FRAME_FLAG_FIN</a> = 0x80</p>
<div class="description">
<p>FIN bit: final fragment of a multi-fragment message. </p>
</div>
<p class="decl"><a name="16263">FRAME_FLAG_RSV1</a> = 0x40</p>
<div class="description">
<p>Reserved for future use. Must be zero. </p>
</div>
<p class="decl"><a name="16264">FRAME_FLAG_RSV2</a> = 0x20</p>
<div class="description">
<p>Reserved for future use. Must be zero. </p>
</div>
<p class="decl"><a name="16265">FRAME_FLAG_RSV3</a> = 0x10</p>
<div class="description">
<p>Reserved for future use. Must be zero. </p>
</div>
<h3><a name="16266">FrameOpcodes</a></h3>
<div class="description">
<p>Frame header opcodes. </p>
</div>
<p class="decl"><a name="16267">FRAME_OP_CONT</a> = 0x00</p>
<div class="description">
<p>Continuation frame. </p>
</div>
<p class="decl"><a name="16268">FRAME_OP_TEXT</a> = 0x01</p>
<div class="description">
<p>Text frame. </p>
</div>
<p class="decl"><a name="16269">FRAME_OP_BINARY</a> = 0x02</p>
<div class="description">
<p>Binary frame. </p>
</div>
<p class="decl"><a name="16270">FRAME_OP_CLOSE</a> = 0x08</p>
<div class="description">
<p>Close connection. </p>
</div>
<p class="decl"><a name="16271">FRAME_OP_PING</a> = 0x09</p>
<div class="description">
<p>Ping frame. </p>
</div>
<p class="decl"><a name="16272">FRAME_OP_PONG</a> = 0x0a</p>
<div class="description">
<p>Pong frame. </p>
</div>
<p class="decl"><a name="16273">FRAME_OP_BITMASK</a> = 0x0f</p>
<div class="description">
<p>Bit mask for opcodes.  </p>
</div>
<h3><a name="16258">Mode</a></h3>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16259">WS_SERVER</a></p>
<div class="description">
<p>Server-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>. </p>
</div>
<p class="decl"><a name="16260">WS_CLIENT</a></p>
<div class="description">
<p>Client-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>. </p>
</div>
<h3><a name="16274">SendFlags</a></h3>
<div class="description">
<p>Combined header flags and opcodes for use with <a href="Poco.Net.WebSocket.html#16319" title="Poco::Net::WebSocket::sendFrame()">sendFrame</a>(). </p>
</div>
<p class="decl"><a name="16275">FRAME_TEXT</a> = FRAME_FLAG_FIN | FRAME_OP_TEXT</p>
<div class="description">
<p>Use this for sending a single text (UTF-8) payload frame. </p>
</div>
<p class="decl"><a name="16276">FRAME_BINARY</a> = FRAME_FLAG_FIN | FRAME_OP_BINARY</p>
<div class="description">
<p>Use this for sending a single binary payload frame. </p>
</div>
<h3><a name="16277">StatusCodes</a></h3>
<div class="description">
<p><a href="Poco.Net.WebSocket.html#16277" title="enum  Poco::Net::WebSocket::StatusCodes">StatusCodes</a> for CLOSE frames sent with <a href="Poco.Net.WebSocket.html#16315" title="Poco::Net::WebSocket::shutdown()">shutdown</a>(). </p>
</div>
<p class="decl"><a name="16278">WS_NORMAL_CLOSE</a> = 1000</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16279">WS_ENDPOINT_GOING_AWAY</a> = 1001</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16280">WS_PROTOCOL_ERROR</a> = 1002</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16281">WS_PAYLOAD_NOT_ACCEPTABLE</a> = 1003</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16282">WS_RESERVED</a> = 1004</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16283">WS_RESERVED_NO_STATUS_CODE</a> = 1005</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16284">WS_RESERVED_ABNORMAL_CLOSE</a> = 1006</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16285">WS_MALFORMED_PAYLOAD</a> = 1007</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16286">WS_POLICY_VIOLATION</a> = 1008</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16287">WS_PAYLOAD_TOO_BIG</a> = 1009</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16288">WS_EXTENSION_REQUIRED</a> = 1010</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16289">WS_UNEXPECTED_CONDITION</a> = 1011</p>
<div class="description">
<p></p>
</div>
<p class="decl"><a name="16290">WS_RESERVED_TLS_FAILURE</a> = 1015</p>
<div class="description">
<p></p>
</div>
<h2>Constructors</h2>
<h3><a name="16300">WebSocket</a></h3>
<p class="decl"><a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPServerRequest.html" title="class Poco::Net::HTTPServerRequest">HTTPServerRequest</a> &amp; request,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPServerResponse.html" title="class Poco::Net::HTTPServerResponse">HTTPServerResponse</a> &amp; response<br />);</p>
<div class="description">
<p>Creates a server-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> from within a <a href="Poco.Net.HTTPRequestHandler.html" title="class Poco::Net::HTTPRequestHandler">HTTPRequestHandler</a>. </p>
<p>First verifies that the request is a valid <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> upgrade request. If so, completes the handshake by sending a proper 101 response. </p>
<p>Throws an exception if the request is not a proper <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> upgrade request. </p>
</div>
<h3><a name="16303">WebSocket</a></h3>
<p class="decl"><a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> &amp; cs,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPRequest.html" title="class Poco::Net::HTTPRequest">HTTPRequest</a> &amp; request,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPResponse.html" title="class Poco::Net::HTTPResponse">HTTPResponse</a> &amp; response<br />);</p>
<div class="description">
<p>Creates a client-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>, using the given <a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> and <a href="Poco.Net.HTTPRequest.html" title="class Poco::Net::HTTPRequest">HTTPRequest</a> for the initial handshake  (HTTP Upgrade request). </p>
<p>Additional HTTP headers for the initial handshake request (such as Origin or Sec-<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>-Protocol) can be given in the request object. </p>
<p>The result of the handshake can be obtained from the response object. </p>
</div>
<h3><a name="16307">WebSocket</a></h3>
<p class="decl"><a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> &amp; cs,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPRequest.html" title="class Poco::Net::HTTPRequest">HTTPRequest</a> &amp; request,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPResponse.html" title="class Poco::Net::HTTPResponse">HTTPResponse</a> &amp; response,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPCredentials.html" title="class Poco::Net::HTTPCredentials">HTTPCredentials</a> &amp; credentials<br />);</p>
<div class="description">
<p>Creates a client-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>, using the given <a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> and <a href="Poco.Net.HTTPRequest.html" title="class Poco::Net::HTTPRequest">HTTPRequest</a> for the initial handshake  (HTTP Upgrade request). </p>
<p>The given credentials are used for authentication if requested by the server. </p>
<p>Additional HTTP headers for the initial handshake request (such as Origin or Sec-<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>-Protocol) can be given in the request object. </p>
<p>The result of the handshake can be obtained from the response object. </p>
</div>
<h2>Destructor</h2>
<h3><a name="16312">~WebSocket</a> <img src="images/virtual.gif" alt="virtual" title="virtual" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">virtual ~<a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>();</p>
<div class="description">
<p>Destroys the <a href="Poco.Net.StreamSocket.html" title="class Poco::Net::StreamSocket">StreamSocket</a>. </p>
</div>
<h2>Member Functions</h2>
<h3><a name="16327">mode</a></h3>
<p class="decl"><a href="Poco.Net.WebSocket.html#16258" title="enum  Poco::Net::WebSocket::Mode">Mode</a> mode() const;</p>
<div class="description">
<p>Returns <a href="Poco.Net.WebSocket.html#16259" title="Poco::Net::WebSocket::WS_SERVER">WS_SERVER</a> if the <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> is a server-side <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a>, or <a href="Poco.Net.WebSocket.html#16260" title="Poco::Net::WebSocket::WS_CLIENT">WS_CLIENT</a> otherwise. </p>
</div>
<h3><a name="16313">operator =</a></h3>
<p class="decl"><a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> &amp; operator = (<br />&nbsp;&nbsp;&nbsp;&nbsp;const <a href="Poco.Net.Socket.html" title="class Poco::Net::Socket">Socket</a> &amp; socket<br />);</p>
<div class="description">
<p>Assignment operator. </p>
<p>Releases the socket's <a href="Poco.Net.SocketImpl.html" title="class Poco::Net::SocketImpl">SocketImpl</a> and attaches the <a href="Poco.Net.SocketImpl.html" title="class Poco::Net::SocketImpl">SocketImpl</a> from the other socket and increments the reference count of the <a href="Poco.Net.SocketImpl.html" title="class Poco::Net::SocketImpl">SocketImpl</a>.	 </p>
</div>
<h3><a name="16323">receiveFrame</a></h3>
<p class="decl">int receiveFrame(<br />&nbsp;&nbsp;&nbsp;&nbsp;void * buffer,<br />&nbsp;&nbsp;&nbsp;&nbsp;int length,<br />&nbsp;&nbsp;&nbsp;&nbsp;int &amp; flags<br />);</p>
<div class="description">
<p>Receives a frame from the socket and stores it in buffer. Up to length bytes are received. If the frame's payload is larger, a <a href="Poco.Net.WebSocketException.html" title="class Poco::Net::WebSocketException">WebSocketException</a> is thrown and the <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> connection must be  terminated. </p>
<p>Returns the number of bytes received.  A return value of 0 means a graceful shutdown  of the connection from the peer. </p>
<p>Throws a <a href="Poco.TimeoutException.html" title="class Poco::TimeoutException">TimeoutException</a> if a receive timeout has been set and nothing is received within that interval. Throws a <a href="Poco.Net.NetException.html" title="class Poco::Net::NetException">NetException</a> (or a subclass) in case of other errors. </p>
<p>The frame flags and opcode (<a href="Poco.Net.WebSocket.html#16261" title="enum  Poco::Net::WebSocket::FrameFlags">FrameFlags</a> and <a href="Poco.Net.WebSocket.html#16266" title="enum  Poco::Net::WebSocket::FrameOpcodes">FrameOpcodes</a>) is stored in flags. </p>
</div>
<h3><a name="16319">sendFrame</a></h3>
<p class="decl">int sendFrame(<br />&nbsp;&nbsp;&nbsp;&nbsp;const void * buffer,<br />&nbsp;&nbsp;&nbsp;&nbsp;int length,<br />&nbsp;&nbsp;&nbsp;&nbsp;int flags = FRAME_TEXT<br />);</p>
<div class="description">
<p>Sends the contents of the given buffer through the socket as a single frame. </p>
<p>Values from the <a href="Poco.Net.WebSocket.html#16261" title="enum  Poco::Net::WebSocket::FrameFlags">FrameFlags</a>, <a href="Poco.Net.WebSocket.html#16266" title="enum  Poco::Net::WebSocket::FrameOpcodes">FrameOpcodes</a> and <a href="Poco.Net.WebSocket.html#16274" title="enum  Poco::Net::WebSocket::SendFlags">SendFlags</a> enumerations can be specified in flags. </p>
<p>Returns the number of bytes sent, which may be less than the number of bytes specified. </p>
<p>Certain socket implementations may also return a negative value denoting a certain condition. </p>
</div>
<h3><a name="16315">shutdown</a></h3>
<p class="decl">void shutdown();</p>
<div class="description">
<p>Sends a Close control frame to the server end of the connection to initiate an orderly shutdown of the connection. </p>
</div>
<h3><a name="16316">shutdown</a></h3>
<p class="decl">void shutdown(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.html#11581" title="Poco::UInt16">Poco::UInt16</a> statusCode,<br />&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; statusMessage = ""<br />);</p>
<div class="description">
<p>Sends a Close control frame to the server end of the connection to initiate an orderly shutdown of the connection. </p>
</div>
<h3><a name="16329">accept</a> <img src="images/protected.gif" alt="protected" title="protected" style="vertical-align:baseline;" border="0" />  <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static <a href="Poco.Net.WebSocketImpl.html" title="class Poco::Net::WebSocketImpl">WebSocketImpl</a> * accept(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPServerRequest.html" title="class Poco::Net::HTTPServerRequest">HTTPServerRequest</a> &amp; request,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPServerResponse.html" title="class Poco::Net::HTTPServerResponse">HTTPServerResponse</a> &amp; response<br />);</p>
<div class="description">
<p></p>
</div>
<h3><a name="16337">completeHandshake</a> <img src="images/protected.gif" alt="protected" title="protected" style="vertical-align:baseline;" border="0" />  <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static <a href="Poco.Net.WebSocketImpl.html" title="class Poco::Net::WebSocketImpl">WebSocketImpl</a> * completeHandshake(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> &amp; cs,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPResponse.html" title="class Poco::Net::HTTPResponse">HTTPResponse</a> &amp; response,<br />&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; key<br />);</p>
<div class="description">
<p></p>
</div>
<h3><a name="16341">computeAccept</a> <img src="images/protected.gif" alt="protected" title="protected" style="vertical-align:baseline;" border="0" />  <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static std::string computeAccept(<br />&nbsp;&nbsp;&nbsp;&nbsp;const std::string &amp; key<br />);</p>
<div class="description">
<p></p>
</div>
<h3><a name="16332">connect</a> <img src="images/protected.gif" alt="protected" title="protected" style="vertical-align:baseline;" border="0" />  <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static <a href="Poco.Net.WebSocketImpl.html" title="class Poco::Net::WebSocketImpl">WebSocketImpl</a> * connect(<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPClientSession.html" title="class Poco::Net::HTTPClientSession">HTTPClientSession</a> &amp; cs,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPRequest.html" title="class Poco::Net::HTTPRequest">HTTPRequest</a> &amp; request,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPResponse.html" title="class Poco::Net::HTTPResponse">HTTPResponse</a> &amp; response,<br />&nbsp;&nbsp;&nbsp;&nbsp;<a href="Poco.Net.HTTPCredentials.html" title="class Poco::Net::HTTPCredentials">HTTPCredentials</a> &amp; credentials<br />);</p>
<div class="description">
<p></p>
</div>
<h3><a name="16343">createKey</a> <img src="images/protected.gif" alt="protected" title="protected" style="vertical-align:baseline;" border="0" />  <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static std::string createKey();</p>
<div class="description">
<p></p>
</div>
<h2>Variables</h2>
<h3><a name="16328">WEBSOCKET_VERSION</a> <img src="images/static.gif" alt="static" title="static" style="vertical-align:baseline;" border="0" /> </h3>
<p class="decl">static const std::string <a href="Poco.Net.WebSocket.html#16328" title="Poco::Net::WebSocket::WEBSOCKET_VERSION">WEBSOCKET_VERSION</a>;</p>
<div class="description">
<p>The <a href="Poco.Net.WebSocket.html" title="class Poco::Net::WebSocket">WebSocket</a> protocol version supported (13). </p>
</div>
<p class="footer">POCO C++ Libraries 1.4.3-all<br />
Copyright &copy; 2012, <a href="http://pocoproject.org/" target="_blank">Applied Informatics Software Engineering GmbH and Contributors</a></p>

</div>
</body>
</html>
